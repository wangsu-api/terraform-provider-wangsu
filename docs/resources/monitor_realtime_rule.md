---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "wangsu_monitor_realtime_rule Resource - wangsu"
subcategory: "Cloud Monitor"
description: |-
  Use this resource to create and manage cloud monitor alert rules.
---

# wangsu_monitor_realtime_rule (Resource)
Use this resource to create a Monitor Realtime rule.
This resource allows you to create a Monitor Realtime rule.

## Example Usage

```hcl
resource "wangsu_monitor_realtime_rule" "testrule" {
  rule_name          = "testrule"
  monitor_product    = "web"
  resource_type      = "domain"
  monitor_resources  = ["ALL"]
  statistical_method = "CONSOLIDATED"
  alert_frequency    = 5
  restore_notice     = "false"

  rule_items {
    start_time     = "00:00"
    end_time       = "00:59"
    condition_type = "ANY"
    period         = 5
    period_times   = 1

    condition_rules {
      monitor_item = "BANDWIDTH"
      condition    = "MAX"
      threshold    = "100000"
    }
    condition_rules {
      monitor_item = "FLOW"
      condition    = "MIN"
      threshold    = "1"
    }
  }
  rule_items {
    start_time     = "01:00"
    end_time       = "05:59"
    condition_type = "ALL"
    period         = 10
    period_times   = 2

    condition_rules {
      monitor_item = "REQUEST"
      condition    = "MAX"
      threshold    = "1000000"
    }
  }

  notices {
    notice_method = "WEBHOOK"
    notice_object = "https://example.com"
  }
  notices {
    notice_method = "MOBILE"
    notice_object = "1;2"
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `monitor_product` (String) Monitor by dimension or product. Dimensions: userDimension, DG, domainDimension. Or input product code
- `notices` (Block List, Min: 1) Notification methods list (see [below for nested schema](#nestedblock--notices))
- `rule_items` (Block List, Min: 1) Rule items list (see [below for nested schema](#nestedblock--rule_items))
- `rule_name` (String) Alert rule name, only supports Chinese, English, numbers, underscore, hyphen, max 100 characters

### Optional

- `alert_frequency` (Number) Alert frequency in minutes. Default: 5. Options: 0-first alert only, 2, 5, 10, 15, 20
- `monitor_resources` (List of String) List of resource names to monitor or ALL
- `resource_type` (String) Resource type. Required when monitorProduct is specific product. Options: domain
- `restore_notice` (String) Whether to notify on alert recovery. Default: true
- `statistical_method` (String) Statistical method. Default: CONSOLIDATED. Options: CONSOLIDATED-consolidated statistics, SEPARATE-separate statistics

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--notices"></a>
### Nested Schema for `notices`

Required:

- `notice_method` (String) Notification method. Options: MOBILE, EMAIL, ROBOT, WEBHOOK
- `notice_object` (String) Notification object. For MOBILE/EMAIL: contact IDs separated by ;. For ROBOT: robot IDs separated by ;. For WEBHOOK: webhook URL


<a id="nestedblock--rule_items"></a>
### Nested Schema for `rule_items`

Required:

- `condition_rules` (Block List, Min: 1) Condition rules list (see [below for nested schema](#nestedblock--rule_items--condition_rules))
- `condition_type` (String) Alert condition type. Options: ANY-any condition, ALL-all conditions
- `end_time` (String) Monitoring period end time, format: HH:59, example: 01:59
- `period` (Number) Monitoring cycle in minutes. Options: 1, 5, 10
- `period_times` (Number) Number of cycles to meet conditions before alerting. Options: 1, 2, 3, 5, 15, 30
- `start_time` (String) Monitoring period start time, format: HH:00, example: 00:00


<a id="nestedblock--rule_items--condition_rules"></a>
### Nested Schema for `rule_items.condition_rules`

Required:

- `condition` (String) Condition type. Options: MAX-greater than, MIN-less than, UPRUSH-surge, SLUMPED-plunge
- `monitor_item` (String) Monitoring items currently only support domain-type monitoring items. Options: BANDWIDTH, FLOW, REQUEST, BTOB, FLOW_HIT_RATE, etc.
- `threshold` (String) Threshold value, please provide a positive integer
