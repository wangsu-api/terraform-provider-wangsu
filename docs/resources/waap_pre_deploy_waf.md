---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "wangsu_waap_pre_deploy_waf Resource - wangsu"
subcategory: "Security"
description: |-
  Use this resource to pre-deploy WAF configurations.Only configurations with provided parameters will be pre-deployed; configurations without supplied parameters will take effect according to the existing production configuration.
---

# wangsu_waap_pre_deploy_waf (Resource)

Use this resource to pre-deploy WAF configurations.Only configurations with provided parameters will be pre-deployed; configurations without supplied parameters will take effect according to the existing production configuration.

## Example Usage
```hcl
resource "wangsu_waap_pre_deploy_waf" "demo" {
  domain        = "waap.example.com"
  config_switch = "ON"

  conf_basic {
    defend_mode      = "BLOCK"
    rule_update_mode = "AUTO"
  }

  rule_list {
    rule_id = 5002
    mode    = "BLOCK"
    exception_list {
      type         = "ip"
      match_type   = "EQUAL"
      content_list = ["192.168.1.1"]
    }
    exception_list {
      type         = "path"
      match_type   = "REGEX"
      content_list = ["/api/v1/.*"]
    }
  }

  rule_list {
    rule_id = 5003
    mode    = "LOG"
    exception_list {
      type         = "userAgent"
      match_type   = "CONTAIN"
      content_list = ["Mozilla"]
    }
  }
}

output "wangsu_waap_pre_deploy_result" {
  value = wangsu_waap_pre_deploy_waf.demo.host_list
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `conf_basic` (Block List, Min: 1, Max: 1) Basic configuration. (see [below for nested schema](#nestedblock--conf_basic))
- `config_switch` (String) Policy switch.<br/>ON: Enable.<br/>OFF: Disable.
- `domain` (String) Domain.
- `rule_list` (Block List, Min: 1) Rule list, unprovided rules will take effect according to current production configuration. (see [below for nested schema](#nestedblock--rule_list))

### Read-Only

- `host_list` (List of Object) Host list. (see [below for nested schema](#nestedatt--host_list))
- `id` (String) The ID of this resource.

<a id="nestedblock--conf_basic"></a>
### Nested Schema for `conf_basic`

Required:

- `defend_mode` (String) Protection Mode.<br/>BLOCK: Block the attack request directly.<br/>LOG: Only log the attack request without blocking it.
- `rule_update_mode` (String) Ruleset Mode.<br/>MANUAL: Check Ruleset update and all Recommendations on the Console, decide to apply them or not, all of these must be done by yourself manually.<br/>AUTO: Automatically upgrade the Ruleset to the latest version and apply the Recommendations learned from your website traffic to Exception, which can keep your website with high-level security anytime.


<a id="nestedblock--rule_list"></a>
### Nested Schema for `rule_list`

Required:

- `exception_list` (Block List, Min: 1) Rule exceptions. (see [below for nested schema](#nestedblock--rule_list--exception_list))
- `mode` (String) Rule actions.<br/>BLOCK: Deny request by a default 403 response.<br/>LOG: Log request and continue further detections.<br/>OFF: Select if you do not a policy take effect.
- `rule_id` (Number) WAF rule ID.

<a id="nestedblock--rule_list--exception_list"></a>
### Nested Schema for `rule_list.exception_list`

Required:

- `content_list` (List of String) Rule exceptions.<br/>When matchType=EQUAL, case-sensitive, path and uri must start with "/", and body can only pass one value;<br/>When matchType=REGEX, only one value can be passed.
- `match_type` (String) Match type,IP can only be EQUAL.<br/>EQUAL: Equal<br/>CONTAIN: Contains<br/>REGEX: Regular match
- `type` (String) Matching conditions.<br/>ip: IP<br/>path: Path<br/>uri: URI<br/>urlParamName: URI Parameter Name<br/>urlParamValue: URI Parameter Value<br/>userAgent: User Agent<br/>httpHeaderName: Request Header Name<br/>httpHeaderValue: Request Header Value<br/>cookie: Cookie<br/>body: Body<br/>bodyParamName: Body Parameter Name<br/>bodyParamValue: Body Parameter Value



<a id="nestedatt--host_list"></a>
### Nested Schema for `host_list`

Read-Only:

- `host_address` (String)
- `host_name` (String)
